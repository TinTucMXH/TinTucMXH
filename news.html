<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Tin tức - Video</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f5f6f7; }
    header { background:#222; color:#fff; padding:12px 18px; }
    nav a { color:#fff; margin-right:12px; text-decoration:none; }
    main { max-width:800px; margin:20px auto; padding:0 16px; }
    article { background:#fff; padding:16px; border-radius:6px; box-shadow:0 2px 6px rgba(0,0,0,0.08); }
    .video-container { position:relative; padding-bottom:56.25%; height:0; overflow:hidden; border-radius:8px; margin-top:12px; background:#000; }
    .video-container video { position:absolute; top:0; left:0; width:100%; height:100%; }
    footer { text-align:center; padding:12px; background:#222; color:#fff; margin-top:18px; }

    /* Modal */
    .modal-backdrop { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:9999; }
    .modal { background:#fff; padding:18px; border-radius:8px; max-width:420px; width:90%; box-shadow:0 6px 18px rgba(0,0,0,0.25); text-align:center; }
    .modal h3 { margin:0 0 8px 0; }
    .modal p { margin:0 0 16px 0; color:#333; }
    .btn { display:inline-block; padding:8px 14px; border-radius:6px; text-decoration:none; cursor:pointer; font-weight:600; }
    .btn-primary { background:#1976d2; color:#fff; border:0; margin-right:8px; }
    .btn-secondary { background:#e0e0e0; color:#111; border:0; }
  </style>
</head>
<body>
  <header>
    <h1>Tin Tức</h1>
    <nav>
      <a href="index.html">Trang chủ</a>
      <a href="news.html">Tin tức</a>
      <a href="about.html">Giới thiệu</a>
    </nav>
  </header>

  <main>
    <article>
      <h2>Tin số 1: Việt Nam đạt thành tựu mới</h2>
      <p>Ngày hôm nay, Việt Nam đã ghi nhận một bước tiến lớn trong công nghệ…</p>

      <div class="video-container">
        <!-- Thay src bằng đường dẫn file mp4 của bạn -->
        <video id="newsVideo" controls preload="metadata" poster="">
          <source src="video/tintuc.mp4" type="video/mp4">
          Trình duyệt của bạn không hỗ trợ phát video.
        </video>
      </div>
    </article>

    <article>
      <h2>Tin số 2: Kinh tế tăng trưởng mạnh</h2>
      <p>Nhiều chuyên gia dự đoán tốc độ tăng trưởng kinh tế sẽ tiếp tục tăng trong quý tới…</p>
    </article>
  </main>

  <footer>© 2025 Tin Tức 24h</footer>

  <!-- Modal -->
  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true">
    <div class="modal">
      <h3>Mở Gmail?</h3>
      <p>Bạn vừa bấm phát video. Bạn có muốn mở Gmail (mở trong tab mới)?</p>
      <div>
        <button id="openLink" class="btn btn-primary">Mở Gmail</button>
        <button id="continueWatch" class="btn btn-secondary">Tiếp tục xem</button>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const video = document.getElementById('newsVideo');
      const modal = document.getElementById('modalBackdrop');
      const openBtn = document.getElementById('openLink');
      const contBtn = document.getElementById('continueWatch');
      const targetUrl = 'https://mail.google.com/mail/u/0/?hl=en#inbox';

      let modalShownForThisPlay = false;

      // Khi user nhấn play
      video.addEventListener('play', function() {
        // Nếu modal đã hiển thị lần đầu, không hiển thị lần nữa cho cùng 1 session (tùy chỉnh)
        if (modalShownForThisPlay) return;
        // Pause ngay để người dùng quyết định
        video.pause();
        modal.style.display = 'flex';
        modalShownForThisPlay = true;
      });

      openBtn.addEventListener('click', function() {
        // Mở link trong tab mới (do user yêu cầu)
        window.open(targetUrl, '_blank', 'noopener,noreferrer');
        modal.style.display = 'none';
        // Nếu bạn muốn tiếp tục video sau khi mở link, bật resume:
        video.play().catch(()=>{/* autoplay may be blocked */});
      });

      contBtn.addEventListener('click', function() {
        modal.style.display = 'none';
        video.play().catch(()=>{/* autoplay may be blocked */});
      });

      // Khi người bấm ngoài modal hoặc ESC, đóng modal (tùy chọn)
      window.addEventListener('keydown', function(e){
        if(e.key === 'Escape') {
          if(modal.style.display === 'flex'){ modal.style.display = 'none'; video.play().catch(()=>{}); }
        }
      });
    })();
  </script>
</body>
</html>
