<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Công cụ Convert Link</title>

<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #f2f2f2;
    }

    /* HEADER */
    .header {
        background: #ffffff;
        padding: 15px;
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        color: #00b16a;
        border-bottom: 1px solid #e5e5e5;
    }

    /* MAIN BANNER STYLE (giống X2download gradient) */
    .banner {
        padding: 25px;
        background: linear-gradient(90deg, #6a11cb, #2575fc);
        color: white;
        text-align: center;
        font-size: 20px;
        font-weight: 600;
    }

    /* FORM BOX TRẮNG */
    .container {
        max-width: 600px;
        margin: auto;
        margin-top: -20px;
        background: white;
        padding: 18px;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    textarea, input, select {
        width: 100%;
        padding: 12px;
        border-radius: 8px;
        border: 1px solid #dcdcdc;
        margin-top: 10px;
        font-size: 15px;
        outline: none;
        background: #fafafa;
    }

    button {
        width: 100%;
        padding: 12px;
        margin-top: 12px;
        font-size: 17px;
        border: none;
        border-radius: 8px;
        background: #00c16e;
        color: white;
        font-weight: bold;
        cursor: pointer;
        transition: 0.2s;
    }

    button:hover {
        background: #00a65a;
    }

    .mini-btns {
        display: flex;
        gap: 10px;
        margin-top: 10px;
    }

    .mini-btns button {
        flex: 1;
        padding: 10px;
        font-size: 15px;
    }

    .title {
        margin-top: 15px;
        font-size: 17px;
        font-weight: bold;
        color: #00b16a;
    }

    .footer-gap { height: 40px; }
</style>
</head>
<body>

<div class="header">Công cụ Convert Link</div>

<div class="banner">
    Download & Convert link nhanh chóng
</div>

<div class="container">

    <div class="title">Nhập đoạn text có chứa link</div>
    <textarea id="inputText" rows="4" placeholder="Dán text bất kỳ có chứa link..."></textarea>

    <div class="mini-btns">
        <button onclick="pasteText()">Paste</button>
        <button onclick="convertLink()">Convert</button>
    </div>

    <div class="title">Kết quả link</div>
    <input id="outputText" placeholder="Link sau khi tách..." readonly>

    <div class="mini-btns">
        <button onclick="copyText()">Copy</button>
        <button onclick="goLink()">Go →</button>
    </div>

    <div class="title">Hashtag xu hướng</div>
    <select id="hashtagSelect" onchange="genHashtag()">
        <option value="">-- chọn chủ đề --</option>
        <option value="tintuc">Tin tức</option>
        <option value="mubahiem">Mũ bảo hiểm</option>
        <option value="giaitri">Giải trí</option>
        <option value="xuhuong">Trend MXH</option>
    </select>

    <input id="hashtagOut" readonly placeholder="#Hashtag sẽ hiển thị tại đây">

    <button onclick="copyHashtag()">Copy Hashtag</button>
</div>

<div class="footer-gap"></div>

<script>
function openTab(id) {
    document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
    document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
    document.getElementById(id).classList.add("active");
    event.target.classList.add("active");
}

/* ---- NEW FIX: PASTE TEXT ---- */
async function pasteText() {
    try {
        let text = await navigator.clipboard.readText();
        document.getElementById("inputText").value = text;
    } catch (e) {
        alert("Trình duyệt không cho phép dán tự động!");
    }
}

function convertLink() {
    let text = document.getElementById("inputText").value.trim();

    let url = text.match(/https?:\/\/[^\s"'<>]+/i);

    if (!url) {
        document.getElementById("outputText").value = "Không tìm thấy link!";
        return;
    }

    let link = url[0];
    document.getElementById("outputText").value = link;

    window.open(link, "_blank");
}

function copyText() {
    let out = document.getElementById("outputText").value;
    navigator.clipboard.writeText(out);
    alert("Đã copy!");
}

function goLink() {
    let link = document.getElementById("outputText").value;
    if (link.startsWith("http")) window.open(link, "_blank");
    else alert("Link không hợp lệ!");
}

function genHashtag() {
    let type = document.getElementById("hashtagSelect").value;
    let out = document.getElementById("hashtagOut");

    let hashtags = {
        tintuc: "#tintuc #tintucmxh #tintuc24h #newsVN #hotnews #trend2025",
        mubahiem: "#mubahiem #mubahiemchat #antoangiaothong #baohiem #trend",
        giaitri: "#giaitri #showbiz #hottrend #mxh #viral",
        xuhuong: "#trend #trendmxh #hot2025 #viralclip #foru"
    };

    out.value = hashtags[type] || "";
}

function copyHashtag() {
    let out = document.getElementById("hashtagOut").value;
    navigator.clipboard.writeText(out);
    alert("Đã copy hashtag!");
}
</script>

</body>
</html>