<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>üß© T·∫°o Trang Video M·ªõi</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f3f4f6;
      padding: 30px;
      color: #222;
    }
    h1 {
      text-align: center;
      color: #1976d2;
    }
    form {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      max-width: 600px;
      margin: 20px auto;
    }
    label { display:block; margin-top:12px; font-weight:bold; }
    input[type="text"] {
      width:100%; padding:10px; border:1px solid #ccc; border-radius:6px;
    }
    input[type="text"]:focus { outline:none; border-color:#1976d2; }
    button {
      margin-top:18px;
      background:#1976d2;
      color:#fff;
      border:none;
      padding:12px 20px;
      border-radius:8px;
      cursor:pointer;
      font-size:16px;
      width:100%;
    }
    button:hover { background:#1259a7; }
  </style>
</head>
<body>
  <h1>üß© T·∫°o Trang Video Tin T·ª©c</h1>
  <form id="videoForm">
    <label>üìù Ti√™u ƒë·ªÅ video:</label>
    <input type="text" id="videoTitle" required>

    <label>üì∫ Link nh√∫ng video (Google Drive / YouTube):</label>
    <input type="text" id="videoLink" required>

    <label>üéØ Link qu·∫£ng c√°o (popup redirect):</label>
    <input type="text" id="adLink" required>

    <label>üíæ T√™n file xu·∫•t ra (kh√¥ng c√≥ .html):</label>
    <input type="text" id="fileName" placeholder="vd: canphongbimat" required>

    <button type="button" onclick="generateFile()">T·∫°o file HTML</button>
  </form>

  <script>
    function generateFile() {
      const title = document.getElementById("videoTitle").value.trim();
      const video = document.getElementById("videoLink").value.trim();
      const ad = document.getElementById("adLink").value.trim();
      const fileName = document.getElementById("fileName").value.trim();

      if(!title || !video || !ad || !fileName){
        alert("‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
        return;
      }

      // ‚úÖ T·∫°o n·ªôi dung file HTML m·ªõi d·ª±a theo template g·ªëc
      const content = `
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>${title}</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Tin T·ª©c M·∫°ng X√£ H·ªôi</h1>
    <nav>
      <a href="index.html">Trang ch·ªß</a>
      <a href="news.html">Tin t·ª©c</a>
      <a href="about.html">Gi·ªõi thi·ªáu</a>
    </nav>
  </header>

  <main>
    <article>
      <h2>${title}</h2>
      <div class="video-container">
        <iframe src="${video}" allow="autoplay"></iframe>
      </div>
    </article>
  </main>

  <footer>¬© 2025 Tin T·ª©c 24h</footer>

  <div class="popup" id="adPopup">
    <button class="close-btn" id="closePopup">√ó</button>
    <h3>üéâ Khuy·∫øn m√£i ƒë·∫∑c bi·ªát!</h3>
    <p>Nh·∫•n v√†o ·∫£nh ƒë·ªÉ xem chi ti·∫øt ∆∞u ƒë√£i.</p>
    <img src="https://via.placeholder.com/320x160.png?text=Quang+cao+Uu+Dai" id="adImage" alt="Qu·∫£ng c√°o">
  </div>

  <script>
    const adLink = "${ad}";
    function showPopup(){ document.getElementById('adPopup').style.display='block'; }
    function hidePopup(){ document.getElementById('adPopup').style.display='none'; setTimeout(showPopup,30000); }
    window.onload = function(){
      showPopup();
      document.getElementById('adImage').onclick=function(){window.open(adLink,'_blank');hidePopup();};
      document.getElementById('closePopup').onclick=function(){hidePopup();};
    };
  </script>
</body>
</html>
      `;

      // ‚úÖ T·∫°o file t·∫£i xu·ªëng
      const blob = new Blob([content], { type: "text/html" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = fileName + ".html";
      link.click();
    }
  </script>
</body>
</html>
