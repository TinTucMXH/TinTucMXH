<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- FAVICON: Hi·ªÉn th·ªã icon H b√™n c·∫°nh link, tab, shortcut -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="apple-touch-icon" href="favicon.svg">
  <title>C√¥ng c·ª• MXH ‚Äì Affiliate & T·∫°o Web</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: linear-gradient(135deg,#e3f2fd,#bbdefb);
      padding: 20px;
      color: #1e3a8a;
      min-height: 100vh;
    }

    /* ==== HEADER + TAB ==== */
    h1 {
      text-align: center;
      font-size: 28px;
      margin-bottom: 15px;
      color: #0d47a1;
      font-weight: 700;
    }
    .tabs {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    .tab-btn {
      padding: 10px 18px;
      background: #90caf9;
      border-radius: 10px;
      border: none;
      color: #0d47a1;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: 0.25s;
    }
    .tab-btn.active {
      background: #1e88e5;
      color: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .tab-content { display: none; }
    .tab-content.active { display: block; }

    .container {
      background: #fff;
      padding: 24px;
      border-radius: 16px;
      box-shadow: 0 8px 25px rgba(30, 64, 175, 0.1);
      max-width: 560px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 14px;
    }
    label {
      font-weight: 600;
      color: #1e40af;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 15px;
    }
    input[type="text"], textarea {
      width: 100%;
      padding: 11px;
      border: 1.5px solid #90caf9;
      border-radius: 10px;
      font-size: 14px;
      transition: border 0.3s;
    }
    input[type="text"]:focus, textarea:focus {
      outline: none;
      border-color: #42a5f5;
      box-shadow: 0 0 0 3px rgba(66, 165, 245, 0.2);
    }
    textarea { min-height: 90px; resize: vertical; }
    .input-group {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .input-group input { flex: 1; }
    .btn-small {
      padding: 8px 10px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 13px;
      font-weight: bold;
      transition: all 0.2s;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .btn-add { background: #42a5f5; color: white; }
    .btn-add:hover { background: #1e88e5; }
    .btn-remove { background: #ef5350; color: white; }
    .btn-remove:hover { background: #e53935; }
    .media-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 8px;
      max-height: 180px;
      overflow-y: auto;
      padding: 8px;
      background: #f8fbff;
      border-radius: 10px;
      border: 1px dashed #90caf9;
    }
    .media-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px;
      background: #e3f2fd;
      border-radius: 8px;
      font-size: 13px;
      word-break: break-all;
    }
    .btn {
      width: 100%;
      padding: 13px;
      background: #1e88e5;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    .btn:hover { background: #1565c0; }
    .btn-secondary { background: #42a5f5; }
    .btn-secondary:hover { background: #1e88e5; }
    #output, #outputtt {
      background: #f8fbff;
      font-family: monospace;
      font-size: 13px;
      line-height: 1.5;
    }
    .copy-hint {
      font-size: 12px;
      color: #42a5f5;
      text-align: center;
      margin-top: 4px;
      font-style: italic;
    }
    .popup {
      display: none;
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center; align-items: center;
      z-index: 1000;
    }
    .popup-content {
      background: #fff;
      padding: 24px;
      border-radius: 16px;
      width: 90%;
      max-width: 360px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      text-align: center;
    }
    .popup input { margin-top: 12px; }
    .popup-buttons {
      display: flex;
      gap: 10px;
      margin-top: 16px;
    }
    .popup-buttons button {
      flex: 1;
      padding: 11px;
      border-radius: 10px;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }
    .confirm { background: #42a5f5; color: white; }
    .confirm:hover { background: #1e88e5; }
    .cancel { background: #ef5350; color: white; }
    .cancel:hover { background: #e53935; }

    /* === TOOLTIP G√ìC PH·∫¢I D∆Ø·ªöI === */
    .tooltip-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 9999;
    }
    .tooltip-btn {
      width: 56px;
      height: 56px;
      background: #1e88e5;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(30, 137, 229, 0.3);
      transition: all 0.3s ease;
    }
    .tooltip-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(30, 137, 229, 0.4);
    }
    .tooltip-menu {
      position: absolute;
      bottom: 70px;
      right: 0;
      background: white;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      padding: 12px;
      display: none;
      flex-direction: column;
      gap: 8px;
      min-width: 220px;
      animation: fadeIn 0.3s ease-out;
    }
    .tooltip-menu.active {
      display: flex;
    }
    .tooltip-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 14px;
      border-radius: 10px;
      color: #1e3a8a;
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
      transition: all 0.2s;
    }
    .tooltip-item:hover {
      background: #e3f2fd;
      transform: translateX(4px);
    }
    .tooltip-item i {
      width: 36px;
      height: 36px;
      background: #42a5f5;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
    }
    .tooltip-item span {
      flex: 1;
    }
    /* Cho ph√©p k√©o tooltip */
.tooltip-container {
  position: fixed;
  cursor: grab;
  touch-action: none;
}

.tooltip-container:active {
  cursor: grabbing;
}
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 480px) {
      .container { padding: 16px; }
      h2 { font-size: 20px; }
      .tooltip-container { bottom: 15px; right: 15px; }
      .tooltip-btn { width: 50px; height: 50px; font-size: 20px; }
      .tooltip-menu { min-width: 200px; bottom: 65px; }
    }
  </style>
</head>

<body>
 <!-- Tooltip -->
<div class="tooltip-container" id="tooltipContainer">
  <div class="tooltip-btn" id="tooltipToggle"><i class="fas fa-tools"></i></div>
  <div class="tooltip-menu" id="tooltipMenu">
    <a href="https://x2download.com" target="_blank" class="tooltip-item">
      <i class="fab fa-facebook"></i><span>Download Facebook</span>
    </a>
    <a href="https://snaptik.vn" target="_blank" class="tooltip-item">
      <i class="fab fa-tiktok"></i><span>Download Tiktok</span>
    </a>
    <a href="https://y2mate.lol" target="_blank" class="tooltip-item">
      <i class="fab fa-youtube"></i><span>Download Youtube</span>
    </a>
    <a href="https://tintucmxh.github.io/TinTucMXH/congcuai.html" target="_blank" class="tooltip-item">
      <i class="fab fa-tiktok"></i><span>Prompt AI</span>
    </a>
    <a href="https://help.shopee.vn/portal/10" target="_blank" class="tooltip-item">
      <i class="fas fa-shopping-bag"></i><span>Shopee Affiliate</span>
    </a>
    <a href="https://sora2dl.com/" target="_blank" class="tooltip-item">
  <i class="fa-solid fa-video"></i>
  <span>Download SORA</span>
</a>
  </div>
</div>
  <h1>Affiliate MXH & C√¥ng c·ª• T·∫°o Web</h1>
  <!-- TAB MENU -->
<div class="tabs">
  <button class="tab-btn active" onclick="openTab('aff')">üìòShoppe Affiliate</button>
  <button class="tab-btn" onclick="openTab('web')">üõ† C√¥ng c·ª• t·∫°o Web</button>
<button class="tab-btn" onclick="openTab('convert')">üì• T·∫£i Douyin</button>
<button class="tab-btn" onclick="openTab('tab-affiliate')">TikTok Affiliate</button>
</div>
  <!-- ============================= TAB 1: AFFILIATE ============================== -->
  <div class="tab-content active" id="aff">
  <div class="container">
    <h2 style="text-align:center; color:#1e40af">üìò FB Shoppe Affiliate</h2>

    <p style="line-height:1.6; font-size:15px;">
      ‚Ä¢ V√†o trang Shopee ‚Üí 
  <a href="https://s.shopee.vn/3LJ54lThCc" target="_blank" style="text-decoration:none; color:#1a73e8;">
    üëâ ƒêƒÉng k√Ω Affiliate Shopee
  </a><br>
     ‚Ä¢ Video g·∫Øn link : Facebook >2000 theo d√µi <br>
    Li√™n ki·∫øt tk m·∫°ng x√£ h·ªôi (trong m·ª•c t√†i kho·∫£n & b·∫£o m·∫≠t) <br>
     L√†m s√°t h·∫°ch Shopee Affiliate video ‚Üí 
  <a href="https://s.shopee.vn/9UsFH25UWu" target="_blank" style="text-decoration:none; color:#1a73e8;">
    üëâ truy c√¢p website
  </a><br>
     ‚Ä¢ Trang Shopee Affiliate ‚Üí 
  <a href="https://affiliate.shopee.vn/" target="_blank" style="text-decoration:none; color:#1a73e8;">
    üëâ Affiliate Shopee truy c√¢p website
  </a><br>
      ‚Ä¢ B·∫≠t ch·∫ø ƒë·ªô chuy√™n nghi·ªáp Facebook <br>
      ‚Ä¢ G·∫Øn link v√†o video <br>
      ‚Ä¢ T·ªëi ∆∞u CTA ƒë·ªÉ tƒÉng t·ª∑ l·ªá chuy·ªÉn ƒë·ªïi<br>
      ‚Ä¢ Theo d√µi s·ªë click / chuy·ªÉn ƒë·ªïi / hoa h·ªìng‚Ä¶
    </p>
    <h3 style="margin-top:20px; color:#1e40af; display:flex; align-items:center; gap:5px;">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#1877F2" viewBox="0 0 24 24">
    <path d="M22.675 0h-21.35C.596 0 0 .595 0 1.326v21.348C0 23.405.596 24 1.326 24H12.82v-9.294H9.692V11.01h3.128V8.414c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.464.099 2.794.143v3.24h-1.918c-1.504 0-1.794.715-1.794 1.763v2.31h3.587l-.467 3.696h-3.12V24h6.116c.73 0 1.326-.595 1.326-1.326V1.326C24 .595 23.404 0 22.675 0z"/>
  </svg>
  H∆∞·ªõng d·∫´n ch·∫ø ƒë·ªô chuy√™n nghi·ªáp Facebook
</h3>
    <div class="affiliate-images-list" id="affiliateImagesList"></div>
    <!-- LIGHTBOX -->
    <div class="lightbox-aff" id="lightboxAff">
      <button class="close-btn" id="closeLightboxAff">√ó</button>
      <button class="prev-btn" id="prevLightboxAff">&#10094;</button>
      <img id="lightboxAffImg" src="" alt="">
      <button class="next-btn" id="nextLightboxAff">&#10095;</button>
    </div>
    <h4 style="text-align:center; color:#1e40af">üìò L√ÄM SAO KHI TH√îNG TIN THANH TO√ÅN B·ªä T·ª™ CH·ªêI???</h4>
    <p style="line-height:1.6; font-size:15px;">
      ‚Ä¢ L√ÄM SAO KHI TH√îNG TIN THANH TO√ÅN B·ªä T·ª™ CH·ªêI???<br>
      C√≥ r·∫•t nhi·ªÅu b·∫°n l√†m ti·∫øp th·ªã li√™n k·∫øt Shopee ra ƒë∆°n c√≥ thu nh·∫≠p nh∆∞ng ph·∫ßn thi·∫øt l·∫≠p th√¥ng tin thanh to√°n l·∫°i b·ªã t·ª´ ch·ªëi li√™n t·ª•c.
Khi c√°c b·∫°n b·ªã t·ª´ ch·ªëi, h√£y k√©o xu·ªëng d∆∞·ªõi c√πng c·ªßa ph·∫ßn th√¥ng tin thanh to√°n nh·∫•n v√†o "Ch·ªânh s·ª≠a".<br>
L∆∞u √Ω: nhi·ªÅu b·∫°n th·∫•y l√Ω do t·ª´ ch·ªëi sai ƒë·ªãa ch·ªâ, ho·∫∑c sai m√£ s·ªë thu·∫ø l√† c√°c b·∫°n ch·ªâ ch·ªânh m·ªói ƒë·ªãa ch·ªâ v√† m√£ s·ªë thu·∫ø. N·∫øu nh∆∞ l√†m nh∆∞ v·∫≠y th√¨ c√°c b·∫°n s·∫Ω kh√¥ng bao gi·ªù ƒë∆∞·ª£c duy·ªát th√¥ng tin thanh to√°n. C·∫ßn ph·∫£i ch·ªânh s·ª≠a h·∫øt, xo√° ƒëi l√†m l·∫°i t·∫•t c·∫£ m·ªçi th√¥ng tin t·ª´ b∆∞·ªõc 1 ƒë·∫øn b∆∞·ªõc 3 C√ôNG 1 TH·ªúI ƒêI·ªÇM.<br>
1. Th√¥ng tin ng∆∞·ªùi th·ª• h∆∞·ªüng.<br>
- Lo·∫°i t√†i kho·∫£n: C√° nh√¢n trong n∆∞·ªõc.<br>
- H·ªç t√™n: NGUY·ªÑN TH·ªä THU (vi·∫øt hoa c√≥ d·∫•u).<br>
- S·ªë ƒëi·ªán tho·∫°i: ********<br>
- ƒê·ªãa ch·ªâ: l√† ƒë·ªãa ch·ªâ n∆°i th∆∞·ªùng tr√∫ tr√™n cƒÉn c∆∞·ªõc c√¥ng d√¢n. Ch√≠nh x√°c ƒë·∫øn t·ª´ng d·∫•u ph·∫©y. VD: T·ªï 6, T√¢n Th·ªãnh, Tp Th√°i Nguy√™n, Th√°i Nguy√™n.<br>
2. Th√¥ng tin t√†i kho·∫£n thanh to√°n.<br>
- T√™n ng√¢n h√†ng: l·ª±a ch·ªçn ƒë√∫ng t√™n ng√¢n h√†ng b·∫°n ƒëang d√πng. VD: NH viettin bank-c√¥ng th∆∞∆°ng<br>
- Chi nh√°nh: chi nh√°nh m·ªü t√†i kho·∫£n. VD: CN Thai Nguyen<br>
- H·ªç v√† t√™n ch·ªß t√†i kho·∫£n ng√¢n h√†ng: NGUYEN THI THU (vi·∫øt hoa kh√¥ng d·∫•u)<br>
- S·ªë t√†i kho·∫£n: ƒêi·ªÅn STK, kh√¥ng ph·∫£i s·ªë th·∫ª c≈©ng kh√¥ng ph·∫£i l√† s·ªë ƒëi·ªán tho·∫°i - tr·ª´ tr∆∞·ªùng h·ª£p b·∫°n ƒëƒÉng k√Ω s·ªë ƒëi·ªán tho·∫°i l√† s·ªë t√†i kho·∫£n lu√¥n th√¨ d√πng ƒë∆∞·ª£c c√≤n n·∫øu nh∆∞ ƒë√£ c√≥ s·ªë t√†i kho·∫£n m√† chuy·ªÉn ƒë·ªïi th√†nh s·ªë ƒëi·ªán tho·∫°i th√¨ b·∫Øt bu·ªôc ph·∫£i ghi s·ªë t√†i kho·∫£n)<br>
3. Th√¥ng tin thu·∫ø<br>
- S·ªë CMND/CCCD: ƒëi·ªÅn ch√≠nh x√°c<br>
- ·∫¢nh m·∫∑t tr∆∞·ªõc v√† m·∫∑t sau ch·ª•p r√µ kh√¥ng b·ªã c·∫Øt g√≥c, kh√¥ng b·ªã lo√° s√°ng. C√°c b·∫°n c√≥ th·ªÉ ch·ª•p s·∫µn ·ªü album ·∫£nh, c·∫Øt zin cho kh·ªõp c√≤n m·ªói h√¨nh ·∫£nh CCCD, r·ªìi l√∫c ƒë∆∞a ·∫£nh l√™n.<br>
- Giai ƒëo·∫°n hi·ªáu l·ª±c: c·ª© th·∫ø ch·ªçn giai ƒëo·∫°n b·∫Øt ƒë·∫ßu v√† k·∫øt th√∫c li√™n t·ª•c kh√¥ng c·∫ßn nh·∫•n xong.<br>
- M√£ s·ªë thu·∫ø: l√† s·ªë CCCD<br>
- Gi·∫•y t·ªù ch·ª©ng minh: h√£y ƒëi·ªÅn s·ªë cƒÉn c∆∞·ªõc c√¥ng d√¢n, h·ªç t√™n v√† ƒë·ªãa ch·ªâ c≈©ng gi·ªëng y nh∆∞ tr√™n CCCD <a href="https://tracuunnt.gdt.gov.vn/tcnnt/mstcn.jsp" target="_blank" style="text-decoration:none; color:#1a73e8;">
    üëâ Tra c·ª©u thu·∫ø 
  </a><br><br>
<a href="https://ketoananpha.vn/cach-dang-ky-ma-so-thue-ca-nhan-kinh-doanh-duoi-888.html?" target="_blank" style="text-decoration:none; color:#1a73e8;">
    üëâ Tr∆∞·ªùng h·ª£p ai ch∆∞a c√≥ m√£ s·ªë thu·∫ø th√¨ nh·∫•n t·∫°o t·∫°i ƒë√¢y:
  </a><br>
Th·∫≠t s·ª± th√¨ hi·ªán t·∫°i Shopee ti·∫øp th·ªã li√™n k·∫øt v√† Facebook ƒë√£ b·∫Øt tay v·ªõi nhau r·ªìi, c√¥ng vi·ªác n√†y ai c≈©ng c√≥ th·ªÉ l√†m ƒë∆∞·ª£c k·ªÉ c·∫£ m·∫π b·ªâm hay ch·ªã em c√¥ng nh√¢n, nh√¢n vi√™n vƒÉn ph√≤ng. V√† sau 6 th√°ng n·∫øu nh∆∞ b·∫°n kh√¥ng cung c·∫•p ƒë∆∞·ª£c t√†i kho·∫£n kho·∫£n thanh to√°n th√¨ ti·ªÅn m·ªõi kh√¥ng v·ªÅ. C√≤n trong qu√° tr√¨nh b·∫°n l√†m c·ª© c√≥ thu nh·∫≠p, ƒë·∫øn khi th√¥ng tin thanh to√°n c·ªßa b·∫°n ƒë∆∞·ª£c duy·ªát th√¨ ch·∫Øc ch·∫Øn ti·ªÅn s·∫Ω v·ªÅ. V·∫≠y n√™n vi·ªác c·ªßa ch√∫ng ta kh√¥ng ph·∫£i l√† n·∫£n kh√¥ng l√†m n·ªØa m√† l√† l√†m sao cho c√≥ c√†ng nhi·ªÅu thu nh·∫≠p c√†ng t·ªët.
    </p>
  </div>
</div>

<!-- ============================= TAB 3: CONVERT (T·∫¢I DOUYIN) ============================== -->
<div class="tab-content" id="convert">
  <div class="container">
    <h2 style="text-align:center;color:#1e40af">üì• C√¥ng c·ª• Convert ‚Äì T·∫£i Douyin </h2>
    
    <!-- √î nh·∫≠p link -->
    <label>Nh·∫≠p link Douyin:</label>
    <div class="input-group">
      <input type="text" id="douyinLink" placeholder="D√°n link video Douyin t·∫°i ƒë√¢y...">
      <button class="btn-small btn-add" onclick="convertDouyin()">
        <i class="fa-solid fa-check"></i>
      </button>
    </div>
    
    <!-- Hi·ªÉn th·ªã k·∫øt qu·∫£ -->
    <label>K·∫øt qu·∫£:</label>
    <textarea id="convertResult" readonly placeholder="Link t·∫£i s·∫Ω hi·ªÉn th·ªã t·∫°i ƒë√¢y..."></textarea>
    <button class="btn" onclick="copyResult()">
      <i class="fas fa-copy"></i>Ti·∫øn h√†nh t·∫£i‚¨áÔ∏è
    </button>
    <p class="copy-hint">N·∫øu d√°n sai link, h√£y th·ª≠ l·∫°i b·∫±ng link kh√°c‚ö°.</p>
  </div>
</div>
<!------------Tiktok-------->
<div id="tab-affiliate" class="tab-content">
  <fieldset class="group-box">
    <legend><i class="fab fa-tiktok"></i> N·ªôi quy TikTok</legend>

    <div class="media-list">

      <div class="media-item">
        <span>üö´ S·∫£n ph·∫©m b·ªã h·∫°n ch·∫ø / kh√¥ng h·ªó tr·ª£</span>
        <a href="https://seller-vn.tiktok.com/university/essay?identity=1&role=1&knowledge_id=6837787798570754&from=policy" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>‚õî S·∫£n ph·∫©m b·ªã c·∫•m</span>
        <a href="https://seller-vn.tiktok.com/university/essay?identity=1&role=1&knowledge_id=6837773789169410&from=policy" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>üé≤ C·ªù b·∫°c ‚Äì qu√† t·∫∑ng ‚Äì y·∫øu t·ªë b·∫•t ng·ªù</span>
        <a href="https://seller-vn.tiktok.com/university/essay?identity=1&role=1&knowledge_id=4037641545271042&from=policy" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>‚ö†Ô∏è M√¥ t·∫£ s·∫£n ph·∫©m ph√≥ng ƒë·∫°i</span>
        <a href="https://seller-vn.tiktok.com/university/essay?identity=1&role=1&knowledge_id=6837770400581377&from=policy" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>üìú Nguy√™n t·∫Øc n·ªôi dung TikTok Shop</span>
        <a href="https://seller-vn.tiktok.com/university/essay?knowledge_id=6837773789480706&role=1&identity=1" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>ü™§ 3 c·∫°m b·∫´y ng∆∞·ªùi b√°n / creator</span>
        <a href="https://seller-vn.tiktok.com/university/essay?knowledge_id=6837776050161410&role=1&identity=1" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>üñºÔ∏è N·ªôi dung ‚ÄúKhung h√¨nh tƒ©nh‚Äù</span>
        <a href="https://seller-vn.tiktok.com/university/essay?knowledge_id=6837776050210562&role=1&identity=1" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>‚ùå Qu·∫£ng b√° kh√¥ng li√™n quan</span>
        <a href="https://seller-vn.tiktok.com/university/essay?knowledge_id=6837787798488834&role=1&identity=1" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>üßí Qu·∫£ng c√°o b·ªüi ng∆∞·ªùi v·ªã th√†nh ni√™n</span>
        <a href="https://seller-vn.tiktok.com/university/essay?knowledge_id=6837793229653761&role=1&identity=1" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>üìã N·ªôi dung sao ch√©p</span>
        <a href="https://seller-vn.tiktok.com/university/essay?knowledge_id=6837791128880898&role=1&identity=1" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>‚ö†Ô∏è N·ªôi dung g√¢y hi·ªÉu l·∫ßm</span>
        <a href="https://seller-vn.tiktok.com/university/essay?knowledge_id=6837791128323842&role=1&identity=1" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>üîÄ Chuy·ªÉn h∆∞·ªõng l∆∞u l∆∞·ª£ng truy c·∫≠p</span>
        <a href="https://seller-vn.tiktok.com/university/essay?knowledge_id=6837787798587138&role=1&identity=1" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>üíº C·∫≠p nh·∫≠t m√£ s·ªë thu·∫ø</span>
        <a href="https://seller-vn.tiktok.com/university/essay?from=policy&identity=1&knowledge_id=6903175718323969&role=1" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>üí∞ Th√¥ng tin c∆° b·∫£n v·ªÅ Thu·∫ø</span>
        <a href="https://seller-vn.tiktok.com/university/essay?knowledge_id=6837804173133569&role=1&identity=1" target="_blank">Tra c·ª©u</a>
      </div>

      <div class="media-item">
        <span>‚≠ê X·ª≠ l√Ω ƒë√°nh gi√° ti√™u c·ª±c</span>
        <a href="https://docs.google.com/document/d/1omkZhxBimUFqSYVbMLwSKC_yRNtu06yJ/edit?usp=sharing" target="_blank">Tra c·ª©u</a>
      </div>

    </div>
  </fieldset>

  <p style="font-size:12px;color:#64748b;text-align:center;margin-top:10px">
    ‚ö†Ô∏è Khuy·∫øn ngh·ªã: ƒê·ªçc k·ªπ n·ªôi quy tr∆∞·ªõc khi l√†m video & g·∫Øn link Affiliate ƒë·ªÉ tr√°nh kh√≥a gi·ªè h√†ng / b√≥p t∆∞∆°ng t√°c. Team V≈© Qu·ªëc Ho√†i
  </p>
</div>

<script>
/* ========================= TAB SWITCH ========================== */
function openTab(tabId) {
  document.querySelectorAll(".tab-btn").forEach(btn => btn.classList.remove("active"));
  document.querySelectorAll(".tab-content").forEach(tab => tab.classList.remove("active"));
  event.target.classList.add("active");
document.getElementById(tabId).classList.add("active");
}

/* ========================= CONVERT (XHS / DOUYIN / ANY LINK) ========================== */
function convertDouyin() {
    let text = document.getElementById("douyinLink").value.trim();
    let url = text.match(/https?:\/\/[^\s"'<>]+/i);
    if (!url) {
  document.getElementById("convertResult").value = "‚ö†Ô∏èKh√¥ng t√¨m th·∫•y link!";
        return;
    }
    let link = url[0];
document.getElementById("convertResult").value = link;
  document.getElementById("douyinLink").value = "";
    window.open(link, "_blank");
}
/* ========================= TI·∫æN H√ÄNH T·∫¢I ========================== */
function copyResult() {
  let link = document.getElementById("convertResult").value;
  if (!link.startsWith("http")) {
    alert("Link kh√¥ng h·ª£p l·ªá!");
    return;
  }
  // M·ªü tab m·ªõi truy c·∫≠p link ƒë√£ t√°ch
  window.open(link, "_blank");
}
</script>

<style>
  .affiliate-images-list {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 12px;
  }
  .affiliate-img-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 120px;
    cursor: pointer;
    font-size: 13px;
    color: #1e40af;
    transition: transform 0.2s;
  }
  .affiliate-img-item img {
    width: 100%;
    border-radius: 6px;
    margin-bottom: 4px;
  }
  .affiliate-img-item:hover { transform: scale(1.05); }

  .lightbox-aff {
    display: none;
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.9);
    justify-content:center;
    align-items:center;
    z-index: 10000;
  }
  .lightbox-aff img {
    max-width: 90%;
    max-height: 80%;
    border-radius: 8px;
  }
  .lightbox-aff .close-btn,
  .lightbox-aff .prev-btn,
  .lightbox-aff .next-btn {
    position: absolute;
    background: rgba(255,255,255,0.7);
    border: none;
    padding: 8px 12px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 24px;
    color: #222;
    font-weight: bold;
    transition: background 0.2s;
  }
  .lightbox-aff .close-btn:hover,
  .lightbox-aff .prev-btn:hover,
  .lightbox-aff .next-btn:hover { background: rgba(255,255,255,1); }

  .lightbox-aff .close-btn { top: 20px; right: 20px; }
  .lightbox-aff .prev-btn { left: 20px; top:50%; transform: translateY(-50%); }
  .lightbox-aff .next-btn { right: 20px; top:50%; transform: translateY(-50%); }
</style>
  <script>
  const n = 11; // s·ªë l∆∞·ª£ng ·∫£nh, c√≥ th·ªÉ thay ƒë·ªïi th√†nh bao nhi√™u ·∫£nh t√πy √Ω
  const baseURL = "https://tintucmxh.github.io/TinTucMXH/image/Kiemtien/facebook/";
  
  const affiliateImagesList = document.getElementById("affiliateImagesList");
  const lightboxAff = document.getElementById("lightboxAff");
  const lightboxAffImg = document.getElementById("lightboxAffImg");
  const closeLightboxAff = document.getElementById("closeLightboxAff");
  const prevBtn = document.getElementById("prevLightboxAff");
  const nextBtn = document.getElementById("nextLightboxAff");

  let currentIndex = 0;
  const imgSources = [];

  // T·∫°o danh s√°ch ·∫£nh t·ª± ƒë·ªông
  for(let i=1; i<=n; i++){
    const imgSrc = `${baseURL}${i}.jpg`;
    imgSources.push(imgSrc);

    const div = document.createElement("div");
    div.className = "affiliate-img-item";
    div.dataset.index = i-1;
    div.innerHTML = `<img src="${imgSrc}" alt="Link ${i}">Link ${i}`;
    affiliateImagesList.appendChild(div);
  }

  // Click m·ªü lightbox
  const imagesAff = document.querySelectorAll(".affiliate-img-item");
  imagesAff.forEach(item => {
    item.addEventListener("click", () => {
      currentIndex = parseInt(item.dataset.index);
      lightboxAffImg.src = imgSources[currentIndex];
      lightboxAff.style.display = "flex";
    });
  });

  closeLightboxAff.addEventListener("click", () => {
    lightboxAff.style.display = "none";
  });

  prevBtn.addEventListener("click", () => {
    currentIndex = (currentIndex - 1 + imgSources.length) % imgSources.length;
    lightboxAffImg.src = imgSources[currentIndex];
  });

  nextBtn.addEventListener("click", () => {
    currentIndex = (currentIndex + 1) % imgSources.length;
    lightboxAffImg.src = imgSources[currentIndex];
  });

  // ƒë√≥ng khi click ngo√†i ·∫£nh
  lightboxAff.addEventListener("click", e => {
    if (e.target === lightboxAff) lightboxAff.style.display = "none";
  });
</script>
  <!-- ============================= TAB 2: WEB TOOL ============================== -->
  <div class="tab-content" id="web">

    <div class="container">
      <!-- Ti√™u ƒë·ªÅ -->
    <label for="a">Ti√™u ƒë·ªÅ b√†i vi·∫øt</label>
    <input type="text" id="a" placeholder="VD: Tai n·∫°n giao th√¥ng t·∫°i ƒê·ªÅ Gi">
    <!-- N·ªôi dung -->
    <label for="ab">N·ªôi dung chi ti·∫øt</label>
    <textarea id="ab" placeholder="M√¥ t·∫£ chi ti·∫øt s·ª± ki·ªán..."></textarea>
    <!-- Video (nhi·ªÅu) -->
    <label>Link Google Drive video (nhi·ªÅu)</label>
    <div class="input-group">
      <input type="text" id="videoInput" placeholder="D√°n link chia s·∫ª t·ª´ Google Drive">
      <button class="btn-small btn-add" onclick="themVideo()" title="Th√™m video">
        <i class="fas fa-plus"></i>
      </button>
    </div>
    <div class="media-list" id="videoList"></div>
    <!-- ·∫¢nh chi ti·∫øt (nhi·ªÅu) -->
    <label>·∫¢nh chi ti·∫øt (nhi·ªÅu ·∫£nh)</label>
    <div class="input-group">
      <input type="text" id="imageInput" placeholder="D√°n link ·∫£nh (Google Drive d√πng uc?export=view)">
      <button class="btn-small btn-add" onclick="themAnh()" title="Th√™m ·∫£nh">
        <i class="fas fa-plus"></i>
      </button>
    </div>
    <div class="media-list" id="imageList"></div>
    <!-- Qu·∫£ng c√°o -->
    <label for="c">Link ·∫£nh qu·∫£ng c√°o</label>
    <input list="videoAds" type="text" id="c" placeholder="Ch·ªçn ho·∫∑c nh·∫≠p link ·∫£nh">
    <datalist id="videoAds">
      <option value="https://tintucmxh.github.io/TinTucMXH/vn-11134258-820l4-mgug0poszr4b79.webp">Shopee Banner</option>
      <option value="https://tintucmxh.github.io/TinTucMXH/mbhtrungquyen.webp">M≈© B·∫£o Hi·ªÉm</option>
    </datalist>
    <label for="d">Link chuy·ªÉn h∆∞·ªõng qu·∫£ng c√°o</label>
    <input list="Ads" type="text" id="d" placeholder="Link Shopee, Tiki...">
    <datalist id="Ads">
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F642872908%2F26564042129%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkUm9yWVZMbGw0Q214S0d1TzNEZmUwNE9UTHo2Tmlza0JVKzdncFhxMXphcGxLOUkzNmJTODV4Q0JJajV2ZlM3VEQxR3RUU01TUEZwc1lyZCtlZkhXQ011RmVRTHBYZHlIanB5OFBvYXN2dXZKbW95Tmt5bHFLNkNLcks5Vk5iTW53PT0&sm=fb_partner&affiliate_id=17335420220">Link 1</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F1597381587%2F42120625683%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkZmdTUmpMeSszRElEdm91eXFrOVhzNUp2MkZYam1qS3k3K3JBMzBkWUdkT3NMS0daZGtXc3VwZG5HOEthM3JRT3ZiTFdUN3BXVmxvMVpEZEpJZ05aZytzcEtWR0ZVbE9NeE1VK2Y3VVM2UmxiOWFTaHc0NmpzcFE0NmtValZSTjFnPT0&sm=fb_partner&affiliate_id=17335420220">Link 2</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F60321356%2F24186455622%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkUzJYdkg4SUFId3huV3BOemxRSlQvQ0FTRWFTMUw4TExrd1hYRGlPUlVlRFlTak9NYXBzZEJ1VTFCZkx4UlFUT3k5NEx1SEJ3bTZoMkZrcEhzaFRWTmtqRUxoeFN3emk4cm8zaTY1RjlTWlc&sm=fb_partner&affiliate_id=17335420220">Link 3</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F134371556%2F42423910759%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkUm9yWVZMbGw0Q214S0d1TzNEZmUwNVVDbzlwcVRBVDZ3dDl1dlZ5dlpHVU9rTkFDY2RVZ0UvMkgxNHRJRktEa2xqVER6SDRwT3FQUGFXQ3YrTDhCNWFoNHZSN3BWL3c4K21FUkdUckd6a2x6d2V1MlJaUSt2UjV3WnR4UGRRT3hBPT0&sm=fb_partner&affiliate_id=17335420220">Link 4</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F1362679168%2F42725093098%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkZmdTUmpMeSszRElEdm91eXFrOVhzNU5xQVdFa0NHWU9WRTU1RHdLSWo0ZXhIWHJ4M0lsYmpSdSs5WmdlMGwxYjBNQnd6ZXc0RUR1UGpqWVJXbDhPb04yam9MNVpueWpFa3pJUUE5ditLdTJ0TkU4U1BmUmUzSW9ncC9kTnA3UXpBPT0&sm=fb_partner&affiliate_id=17335420220">Link 5</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F1116012986%2F28111763195%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkZmdTUmpMeSszRElEdm91eXFrOVhzNDFUcWFjSXJ2THR4K3RtYnBENjR2Qk1BdVY0b3M2WnN0VTEvcjhUaXp0YmROU2o1ZmxIWkFGVG9LSFMwd2FCelRhbVpIL3lTZkd3Z3g5Z2tnWFFrNkVtV3VYUTBoSDhuT1JsZHBJSVpKOGJ3PT0&sm=fb_partner&affiliate_id=17335420220">Link 6</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F457209160%2F23750569400%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkUm9yWVZMbGw0Q214S0d1TzNEZmUwNEx3RU1NWVR6VVpZaFBSSTVaV20wVk9HWVJ3QVM2SzhIT1lqYWhwZlRUWVVrWGU3d2l6RlhkTFl5UlluT0h2eEY3RTExWjUyUmlhd09uQ3NDMEFKRzU5b1ZHYmhOQmlqWDFSRjgxZllLMEx3PT0&sm=fb_partner&affiliate_id=17335420220">Link 7</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F1587552560%2F25496198743%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkZmdTUmpMeSszRElEdm91eXFrOVhzNVNLYXFGcEMwcTI1MVhwVUZGY20rSGlQZnhFVDlCb3p6SXdweVQ1WUhDck9mYmRUTWVLOXhrZ3FVUTVqWmpldmdud0drazBCRWp2YkZ3eVhwaXNxeTBsVzBrYTJXWUN6MTIxODlkdm82ZW5BPT0&sm=fb_partner&affiliate_id=17335420220">Link 8</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F388618830%2F28618025544%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkUm9yWVZMbGw0Q214S0d1TzNEZmUwN2VaREV1aU9GcHJRZXlHVkhuQ2cyT2JmbFdUaEFveEFNaWQzR2VCOUQ1VU1lcEJBcWdEL0lNOU13VmhYeW1zVkJEd2YxeWhPd2EwVmg5YThRUXMyM3FpOEVSVjUya3ZycDF5VmFXSnJqd1l3PT0&sm=fb_partner&affiliate_id=17335420220">Link 9</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F435368915%2F18892985217%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkUm9yWVZMbGw0Q214S0d1TzNEZmUwNUxENGRGUUlmbWdraFVieUZTQzNPRDl1VVpRQzRJeDRyeGg4V2FBTnNiSnFKMllMa0cxNGY3Y3dINnVkYzlTRDRWMGhoRG9VU3VULzJjTG5RVXp6MHlEek5CTU96dC9aNk16NUVFWFRqdWF3PT0&sm=fb_partner&affiliate_id=17335420220">Link 10</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F952306790%2F17793921989%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkUm9yWVZMbGw0Q214S0d1TzNEZmUwN2xMUzY0dFRLQU1OcWc1ZGFra1pTVHEzdEt5K2dqZmVOMHVKaWt2b0NjbkVDL3A3TFBpalJzRXdRdStJVEY4Q040ZGVVNDF0SWNyZ1Q3bHRVVzlwT20rRkoxbzdkVEFTRlBZRFBsS3A0NHN3PT0&sm=fb_partner&affiliate_id=17335420220">Link 11</option>
  <option value="https://s.shopee.vn/an_redir?origin_link=https%3A%2F%2Fshopee.vn%2Fproduct%2F165690495%2F18374639660%3Fgads_t_sig%3DVTJGc2RHVmtYMTlxTFVSVVRrdENkUm9yWVZMbGw0Q214S0d1TzNEZmUwNUx1MXFvSTNKaGpBM2w3V3dlWXpsdHNvRlY5cVVGR3BMY0xaUHlVZWp5dDFla2FFUU5sOHEyYmZCYW1yQVpsc1NKWlo1QXp2N3lYMTJqZkdESEFLeGVreVdHVElJcDRCKy9rSjZWelNKZUdRPT0&sm=fb_partner&affiliate_id=17335420220">Link 12</option>
</datalist>
    <!-- Buttons -->
    <button class="btn" onclick="xuatDuLieu()">Xu·∫•t D·ªØ Li·ªáu</button>
    <button class="btn btn-secondary" onclick="hienPopup()">L∆∞u File HTML</button>
    <button class="btn btn-secondary" onclick="xemTruoc()">Xem Tr∆∞·ªõc</button>
    <!-- Output -->
    <label>Th√¥ng tin t√≥m t·∫Øt (Click ƒë√∫p ƒë·ªÉ sao ch√©p)</label>
    <textarea id="outputtt" readonly placeholder="Th√¥ng tin s·∫Ω hi·ªán ·ªü ƒë√¢y..."></textarea>
    <div class="copy-hint">Click ƒë√∫p ƒë·ªÉ sao ch√©p</div>
    <label>M√£ HTML ho√†n ch·ªânh (Click ƒë√∫p ƒë·ªÉ sao ch√©p)</label>
    <textarea id="output" readonly placeholder="File HTML s·∫Ω hi·ªán ·ªü ƒë√¢y..."></textarea>
    <div class="copy-hint">Click ƒë√∫p ƒë·ªÉ sao ch√©p</div>
    <label>ƒê∆∞·ªùng d·∫´n trang web</label>
    <input type="text" id="linktrangwes" readonly placeholder="S·∫Ω hi·ªÉn th·ªã sau khi l∆∞u">
  </div>
 <!-- Popup -->
  <div class="popup" id="popup">
    <div class="popup-content">
      <h3>Nh·∫≠p t√™n file</h3>
      <input type="text" id="fileName" placeholder="T√™n file (kh√¥ng c·∫ßn .html)">
      <div class="popup-buttons">
        <button class="confirm" onclick="xacNhanLuu()">X√°c nh·∫≠n</button>
        <button class="cancel" onclick="dongPopup()">H·ªßy</button>
      </div>
    </div>
  </div>
    
  <script>
    /* ================= TAB FUNCTION ================ */
  function openTab(tabId) {
    document.querySelectorAll(".tab-btn").forEach(btn => btn.classList.remove("active"));
    document.querySelector(`.tab-btn[onclick="openTab('${tabId}')"]`).classList.add("active");

    document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
    document.getElementById(tabId).classList.add("active");
  }
  // TOOLTIP TOGGLE
  const tooltipBtn = document.getElementById("tooltipToggle");
  const tooltipMenu = document.getElementById("tooltipMenu");
  tooltipBtn.addEventListener("click", () => {
    tooltipMenu.classList.toggle("active");
  });

  // DRAG TOOLTIP
  const container = document.getElementById("tooltipContainer");
  let isDragging = false, startX, startY, origX, origY;

  container.addEventListener("mousedown", e => {
    if (e.target !== tooltipBtn) return; // ch·ªâ k√©o n√∫t
    isDragging = true;
    startX = e.clientX;
    startY = e.clientY;
    const rect = container.getBoundingClientRect();
    origX = rect.left;
    origY = rect.top;
    e.preventDefault();
  });
  document.addEventListener("mousemove", e => {
    if (!isDragging) return;
    const dx = e.clientX - startX;
    const dy = e.clientY - startY;
    container.style.left = (origX + dx) + "px";
    container.style.top = (origY + dy) + "px";
  });
  document.addEventListener("mouseup", () => { isDragging = false; });
    
    // === C√ÅC H√ÄM C≈® (gi·ªØ nguy√™n) ===
    let danhSachVideo = [];
    let danhSachAnh = [];
    let tenFile = "";

    function convertVideoLink(url) {
      const match = url.match(/\/d\/([a-zA-Z0-9-_]+)/);
      return match ? `https://drive.google.com/file/d/${match[1]}/preview` : url;
    }
    function convertImageLink(url) {
      const match = url.match(/\/d\/([a-zA-Z0-9-_]+)/);
      return match ? `https://drive.google.com/uc?export=view&id=${match[1]}` : url;
    }

    function themVideo() {
      const input = document.getElementById("videoInput");
      const url = input.value.trim();
      if (!url) return;
      const finalUrl = convertVideoLink(url);
      danhSachVideo.push(finalUrl);
      input.value = "";
      capNhatDanhSachVideo();
      xuatDuLieu();
    }
    function xoaVideo(index) {
      danhSachVideo.splice(index, 1);
      capNhatDanhSachVideo();
      xuatDuLieu();
    }
    function capNhatDanhSachVideo() {
      const list = document.getElementById("videoList");
      list.innerHTML = "";
      danhSachVideo.forEach((url, i) => {
        const div = document.createElement("div");
        div.className = "media-item";
        div.innerHTML = `
          <span>${i+1}. <i class="fas fa-video"></i> Video</span>
          <button class="btn-small btn-remove" onclick="xoaVideo(${i})" title="X√≥a">
            <i class="fas fa-trash"></i>
          </button>
        `;
        list.appendChild(div);
      });
    }

    function themAnh() {
      const input = document.getElementById("imageInput");
      const url = input.value.trim();
      if (!url) return;
      const finalUrl = convertImageLink(url);
      danhSachAnh.push(finalUrl);
      input.value = "";
      capNhatDanhSachAnh();
      xuatDuLieu();
    }
    function xoaAnh(index) {
      danhSachAnh.splice(index, 1);
      capNhatDanhSachAnh();
      xuatDuLieu();
    }
    function capNhatDanhSachAnh() {
      const list = document.getElementById("imageList");
      list.innerHTML = "";
      danhSachAnh.forEach((url, i) => {
        const div = document.createElement("div");
        div.className = "media-item";
        div.innerHTML = `
          <span>${i+1}. <i class, class="fas fa-image"></i> ·∫¢nh</span>
          <button class="btn-small btn-remove" onclick="xoaAnh(${i})" title="X√≥a">
            <i class="fas fa-trash"></i>
          </button>
        `;
        list.appendChild(div);
      });
    }

    function taoFileHTML(tieude, noidung, adImg, adLink, tenFile) {
      const videoHTML = danhSachVideo.map(src => `
        <div class="video-container">
          <iframe src="${src}" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      `).join('');
      const imageJS = danhSachAnh.map(src => ` { type: "image", src: "${src}" },`).join('\n');
      const html = [
        '<!DOCTYPE html>',
        '<html lang="vi">',
        '<head>',
        ' <meta charset="UTF-8">',
        ` <title>${tenFile}</title>`,
        ' <meta name="viewport" content="width=device-width, initial-scale=1.0">',
        ' <style>',
        ' * { box-sizing: border-box; margin: 0; padding: 0; }',
        ' body { font-family: Arial, sans-serif; background: #f5f6f7; }',
        ' header { background: #222; color: #fff; padding: 12px 18px; }',
        ' nav a { color: #fff; margin-right: 12px; text-decoration: none; font-weight: bold; }',
        ' main { max-width: 900px; margin: 20px auto; padding: 0 16px; }',
        ' article { background: #fff; padding: 16px; border-radius: 6px; box-shadow: 0 2px 6px rgba(0,0,0,0.08); margin-bottom: 20px; }',
        ' footer { text-align: center; padding: 12px; background: #222; color: #fff; margin-top: 18px; }',
        ' .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; margin-top: 12px; background: #000; }',
        ' .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }',
        ' .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px; margin-top: 12px; }',
        ' .gallery img { width: 100%; height: 100px; object-fit: cover; border-radius: 6px; cursor: pointer; transition: transform 0.2s; }',
        ' .gallery img:hover { transform: scale(1.05); }',
        ' .lightbox { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 10000; justify-content: center; align-items: center; padding: 20px; }',
        ' .lightbox img { max-width: 90%; max-height: 90%; border-radius: 8px; }',
        ' .lightbox.active { display: flex; }',
        ' .popup { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 340px; background: #fff; box-shadow: 0 6px 25px rgba(0,0,0,0.25); border-radius: 14px; text-align: center; z-index: 9999; padding: 18px; display: none; animation: popupFadeIn 0.4s ease-out; }',
        ' @keyframes popupFadeIn { from { opacity: 0; transform: translate(-50%, -60%); } to { opacity: 1; transform: translate(-50%, -50%); } }',
        ' .popup h3 { margin: 0 0 8px; font-size: 18px; color: #d32f2f; }',
        ' .popup p { margin: 0 0 12px; font-size: 14px; color: #555; }',
        ' .popup img { width: 100%; max-height: 200px; object-fit: contain; border-radius: 10px; cursor: pointer; transition: transform 0.2s; }',
        ' .popup img:hover { transform: scale(1.02); }',
        ' .close-btn { position: absolute; top: 8px; right: 8px; background: #f44336; color: #fff; border: none; border-radius: 50%; width: 28px; height: 28px; cursor: pointer; font-weight: bold; font-size: 16px; line-height: 26px; }',
        ' </style>',
        '</head>',
        '<body>',
        ' <header><h1>Tin T·ª©c M·∫°ng X√£ H·ªôi</h1><nav><a href="index.html">Trang ch·ªß</a><a href="news.html">Tin t·ª©c</a><a href="about.html">Gi·ªõi thi·ªáu</a></nav></header>',
        ' <main><article>',
        ' <h2>' + tieude + '</h2>',
        ' <p>' + noidung.replace(/\n/g, '<br>') + '</p>',
        videoHTML,
        ' <div id="mediaContainer"></div>',
        ' </article></main>',
        ' <footer>¬© 2025 Tin T·ª©c 24h</footer>',
        ' <div class="lightbox" id="lightbox"><img id="lightboxImg" src="" alt=""></div>',
        ' <div class="popup" id="adPopup">',
        ' <button class="close-btn" id="closePopup">√ó</button>',
        ' <h3>Khuy·∫øn m√£i ƒë·∫∑c bi·ªát!</h3>',
        ' <p>Nh·∫•n v√†o ·∫£nh ƒë·ªÉ xem chi ti·∫øt.</p>',
        ' <img id="adImage" src="' + adImg + '" alt="QC">',
        ' </div>',
        ' <script>',
        ' const adLink = "' + adLink + '";',
        ' const mediaItems = [' + (imageJS ? '\n' + imageJS : '') + '];',
        ' window.onload = () => {',
        ' const container = document.getElementById("mediaContainer");',
        ' const lightbox = document.getElementById("lightbox");',
        ' const lightboxImg = document.getElementById("lightboxImg");',
        ' const popup = document.getElementById("adPopup");',
        ' const adImage = document.getElementById("adImage");',
        ' const closePopup = document.getElementById("closePopup");',
        ' if (mediaItems.length > 0) {',
        ' const g = document.createElement("div"); g.className = "gallery"; container.appendChild(g);',
        ' mediaItems.forEach(item => {',
        ' const img = document.createElement("img"); img.src = item.src;',
        ' img.onclick = () => { lightboxImg.src = item.src; lightbox.classList.add("active"); };',
        ' g.appendChild(img);',
        ' });',
        ' }',
        ' lightbox.onclick = () => lightbox.classList.remove("active");',
        ' adImage.onclick = () => { window.open(adLink, "_blank"); hidePopup(); };',
        ' closePopup.onclick = () => { window.open(adLink, "_blank"); hidePopup(); };',
        ' let t; function showPopup() { popup.style.display = "block"; t = setTimeout(() => { window.open(adLink, "_blank"); hidePopup(); }, 5000); }',
        ' function hidePopup() { clearTimeout(t); popup.style.display = "none"; setTimeout(showPopup, 1000); }',
        ' setTimeout(showPopup, 5000);',
        ' };',
        ' <\/script>',
        '</body></html>'
      ];
      return html.join('\n');
    }

    function xuatDuLieu() {
      const a = document.getElementById("a").value.trim();
      const ab = document.getElementById("ab").value.trim();
      const c = document.getElementById("c").value.trim() || "https://via.placeholder.com/300x200?text=QC";
      const d = document.getElementById("d").value.trim() || "#";
      if (!a || !ab || danhSachVideo.length === 0) {
        alert("Vui l√≤ng nh·∫≠p ti√™u ƒë·ªÅ, n·ªôi dung v√† √≠t nh·∫•t 1 video!");
        return;
      }
      tenFile = document.getElementById("fileName").value.trim() || a.replace(/[^a-zA-Z0-9]/g, '-');
      const html = taoFileHTML(a, ab, c, d, tenFile);
      const info = `Ti√™u ƒë·ªÅ: ${a}\nVideo: ${danhSachVideo.length}\n·∫¢nh: ${danhSachAnh.length}\nQC: ${c}`;
      document.getElementById("output").value = html;
      document.getElementById("outputtt").value = info;
    }

    ["outputtt", "output","linktrangwes"].forEach(id => {
      document.getElementById(id).ondblclick = function() {
        this.select();
        document.execCommand("copy");
        alert("ƒê√£ sao ch√©p!");
      };
    });

    function xemTruoc() {
      xuatDuLieu();
      const blob = new Blob([document.getElementById("output").value], { type: "text/html" });
      const win = window.open(URL.createObjectURL(blob), "_blank");
      win.document.title = tenFile;
    }

    function hienPopup() { document.getElementById("popup").style.display = "flex"; }
    function dongPopup() { document.getElementById("popup").style.display = "none"; document.getElementById("fileName").value = ""; }
    function xacNhanLuu() {
      const ten = document.getElementById("fileName").value.trim() || document.getElementById("a").value.trim().replace(/[^a-zA-Z0-9]/g, '-');
      if (!ten) return alert("Vui l√≤ng nh·∫≠p t√™n file!");
      xuatDuLieu();
      const blob = new Blob([document.getElementById("output").value], { type: "text/html;charset=utf-8" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = ten + ".html";
      link.click();
      document.getElementById("linktrangwes").value = "https://tintucmxh.github.io/TinTucMXH/" + ten + ".html";
      dongPopup();
    }

    ["videoInput", "imageInput"].forEach(id => {
      document.getElementById(id).addEventListener("keypress", e => {
        if (e.key === "Enter") e.target.nextElementSibling.onclick();
      });
    });
  </script>
</body>
</html>
